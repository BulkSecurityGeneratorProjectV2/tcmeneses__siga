#{extends 'main.html' /} #{set title:'Listas' /}
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="//cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js"></script>

<script type="text/javascript">
	/* Table initialization */
	$(document).ready(function() {
		$("#checkmostrarDesativado").click(function() {
			location.href = '@{Application.listarLista()}?' + this.value;
		});
		
		$('#listas_table').DataTable({
			"language": {
				"emptyTable":     "Não existem resultados",
			    "info":           "Mostrando de _START_ a _END_ do total de _TOTAL_ registros",
			    "infoEmpty":      "Mostrando de 0 a 0 do total de 0 registros",
			    "infoFiltered":   "(filtrando do total de _MAX_ registros)",
			    "infoPostFix":    "",
			    "thousands":      ".",
			    "lengthMenu":     "Mostrar _MENU_ registros",
			    "loadingRecords": "Carregando...",
			    "processing":     "Processando...",
			    "search":         "Filtrar:",
			    "zeroRecords":    "Nenhum registro encontrado",
			    "paginate": {
			        "first":      "Primeiro",
			        "last":       "Último",
			        "next":       "Próximo",
			        "previous":   "Anterior"
			    },
			    "aria": {
			        "sortAscending":  ": clique para ordenação crescente",
			        "sortDescending": ": clique para ordenação decrescente"
			    }
			}
		});
	});
</script>

<div class="gt-bd clearfix">
	<div class="gt-content">
		<h2>Pesquisa de Listas</h2>
		<!-- content bomex -->
		<div class="gt-content-box gt-for-table dataTables_div">
			<div class="gt-form-row dataTables_length">
				<label>#{checkbox name:'mostrarDesativado', value:mostrarDesativado/} <b>Incluir Inativas</b></label>
			</div>
			<table id="listas_table" border="0" class="gt-table">
				<thead>
					<tr>
						<th>Nome</th>
						<th>Lotação</th>
					</tr>
				</thead>

				<tbody>
					#{list items:lista, as:'lista'}
					<tr>
						<td onclick="javascript:window.location='@{Application.exibirLista(lista.idLista)}'"
						style="cursor: pointer;"> ${lista.nomeLista}</td>
						<td>${lista.lotaCadastrante.nomeLotacao}</td>
					</tr>
					</a> #{/list}
				</tbody>
			</table>
		</div>
		<!-- /content box -->
		<div class="gt-table-buttons">
		<a href="@{Application.editarLista}" class="gt-btn-medium gt-btn-left">Cadastrar</a>
		<div class="gt-table-buttons">
		</div>
</div>

<br />
<br />
<br />