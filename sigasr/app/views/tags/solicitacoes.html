<style>
	.bt-expandir {
		background: none !important;
		cursor: pointer;
	}
	
	.bt-expandir.expandido {
		background: none !important;
	}
	
	.hide-sort-arrow.sorting_asc, .hide-sort-arrow.sorting_desc {
	background: none !important;
	}
	
	td.details-control {
		background: none !important;
		cursor: pointer;
	}
	
	tr.shown td.details-control {
		background: none !important;
	}
</style>

<div class="gt-content-box gt-for-table dataTables_div">
	<table id="solicitacoes_table" border="0" class="gt-table-nowrap display" data-json="${_solicitacaoListaVO.toJson()}">
		<thead></thead>
		<tbody id="sortable" class="ui-sortable"></tbody>
	</table>
</div>

<script src="//cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js"></script>
<script src="/sigasr/public/javascripts/detalhe-tabela.js"></script>
<script src="/sigasr/public/javascripts/tabela-dinamica.js"></script>

<script type="text/javascript">
	var tabelaDinamica = new TabelaDinamica('#solicitacoes_table').criar();

	if (tabelaDinamica && tabelaDinamica.objetoTabela && tabelaDinamica.objetoTabela.podePriorizar) {
		$( "#sortable" ).sortable({placeholder: "ui-state-highlight"});
		$( "#sortable" ).disableSelection();
	}
	
	$(document).ready(function() {
		/* Table initialization */
		var table = new SigaTable('#solicitacoes_table')
			.configurar("aoColumns", tabelaDinamica.objetoTabela.estrutura)
			.configurar("data", tabelaDinamica.objetoTabela.dados)
			.configurar("iDisplayLength", 25)
			.configurar("bSort", tabelaDinamica.objetoTabela.podeOrdenar)
			.configurar("bFilter", tabelaDinamica.objetoTabela.podeFiltrar)
			.configurar("bPaginate", tabelaDinamica.objetoTabela.podePaginar)
			.configurar("fnRowCallback", solicitacoesRowCallback)
			.criar()
			.detalhes(formatarDetalhes);
	});

	function formatarDetalhes(data) {
		return tabelaDinamica.formatarDetalhes(data, tabelaDinamica.objetoTabela);
	}

	function solicitacoesRowCallback( nRow, aData, iDisplayIndex, iDisplayIndexFull ) {
		$(nRow).addClass('PRIORIDADE-' + aData.prioridade);
		$(nRow).attr('id', aData.idSolicitacao);		
	}
	
</script>
